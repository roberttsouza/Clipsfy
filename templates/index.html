<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clip Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Clip Generator</h1>
            <p>Crie clipes curtos dos melhores momentos de vídeos do YouTube.</p>
        </header>

        <main>
            <form id="clip-form" method="POST" action="/process">
                <!-- Campo para o link do vídeo -->
                <label for="video-url">Link do Vídeo do YouTube:</label>
                <input type="text" id="video-url" name="video_url" placeholder="Cole o link aqui..." required>
            
                <!-- Opções de formato -->
                <label for="clip-format">Formato do Clip:</label>
                <select id="clip-format" name="clip_format">
                    <option value="9:16">Vertical (9:16)</option>
                    <option value="1:1">Quadrado (1:1)</option>
                    <option value="16:9">Widescreen (16:9)</option>
                </select>
            
                <!-- Opções de duração -->
                <label for="clip-duration">Duração dos Clipes:</label>
                <select id="clip-duration" name="clip_duration">
                    <option value="<30s">Menos de 30 segundos</option>
                    <option value="30s-59s">30 a 59 segundos</option>
                    <option value="90s-3m">1m30s a 3 minutos</option>
                    <option value="3m-5m">3 a 5 minutos</option>
                    <option value="5m-10m">5 a 10 minutos</option>
                    <option value="10m-15m">10 a 15 minutos</option>
                </select>
            
                <!-- Botão de envio -->
                <button type="submit">Gerar Clips</button>
            </form>

            <!-- Barra de progresso -->
            <div class="progress">
                <div class="progress-bar" id="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
            </div>

            <!-- Seção para exibir os clipes gerados -->
            <div id="results">
                <h2>Clipes Gerados</h2>
                <div id="clips-container">
                    {% if clips_data %}
                        {% for clip in clips_data %}
                            <video src="{{ clip.url }}" controls width="300"></video>
                            <a href="{{ clip.url }}" download="{{ clip.url.split('/')[-1] }}" class="download-link">Download Clip</a>
                            <p>{{ clip.transcription }}</p>
                        {% endfor %}
                    {% else %}
                        <p>Nenhum clipe gerado ainda.</p>
                    {% endif %}
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2023 Clip Generator. Todos os direitos reservados.</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
